{"version":3,"sources":["webpack://ant/webpack/universalModuleDefinition","webpack://ant/webpack/bootstrap","webpack://ant/./src/parsers/parserClass.ts","webpack://ant/./src/index.ts","webpack://ant/./src/ant.ts","webpack://ant/./src/core/events.ts","webpack://ant/./src/core/eventDispatcher.ts","webpack://ant/./src/core/element.ts","webpack://ant/./src/parsers/parsersModule.ts","webpack://ant/./src/parsers/debug/debugModule.ts","webpack://ant/./src/parsers/debug/debugClass.ts","webpack://ant/./src/parsers/download/downloadModule.ts","webpack://ant/./src/parsers/download/downloadClass.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Parser","element","ant","nameHook","this","id","getAttribute","stored","parser","ant_stored","ant_1","Ant","events_1","element_1","parsersModule_1","opciones","_this","AntElement","events","AntEvents","ParsersModule","initParsers","onLoadDocument","readItems_onLoad","document","querySelectorAll","forEach","ele","parse","eventDispatcher_1","readyDocumentDispatcher","EventDispatcher","initListenReadyDocument","th1","addEventListener","fire","handler","register","handlers","event","_i","_a","length","h","push","hooks","registerHook","hook","cb","callHook","keys","indexOf","ix","x","attributes","debugModule_1","downloadModule_1","DebugModule","init","DownloadModule","debugClass_1","DebugElement","_super","message","console","log","__extends","downloadClass_1","DownloadElement","format","url","onSuccess","cargarDatos","req","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","warn","send"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ant\"] = factory();\n\telse\n\t\troot[\"ant\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","import { Ant } from \"../ant\";\n\n/**\n * superclase que cada parser debera heredar para retomar las propiedades  y funciones generales\n */\nexport class Parser {\n    ant:Ant;\n    public element:Element;\n    public id:string=\"\";\n    public nameHook:string;\n    constructor(element:Element,ant:Ant, nameHook:string=\"ant\") {\n        this.ant=ant;\n        this.element=element;\n        this.nameHook=nameHook;\n        //verificar si tiene id el elemento\n        if(this.element.getAttribute(nameHook+\"_id\") != null){\n            this.id=<string>(this.element.getAttribute(nameHook+\"_id\"));\n            Parser.stored(this);\n        }\n    }\n\n    public static stored(parser:Parser){\n        (<any> window).ant_stored= (<any> window).ant_stored || {};\n        (<any> window).ant_stored[parser.id]=parser;\n    }\n\n}","import {Ant} from \"./ant\";\nexport  {Ant};","import {AntEvents} from \"./core/events\";\nimport {AntElement} from \"./core/element\";\nimport {ParsersModule} from \"./parsers/parsersModule\"\n\n/**\n * representa al objeto ant que el usuario final instanciara en javascript\n *\n */\nexport class Ant {\n    events:AntEvents;\n    element:AntElement;\n    /**\n     * \n     * @param opciones parametros necesarios para iniciar el objeto ant\n     */\n    constructor(opciones:any) {\n        this.element=new AntElement(this);\n        this.events=new AntEvents(this);\n        \n        ParsersModule.initParsers(this);\n        this.events.onLoadDocument(()=>{\n            this.readItems_onLoad();\n        });\n    }\n\n    private readItems_onLoad(){\n        //TODO: parse elements with ant-onload, download data defined in options, etc.\n        let elementos=document.querySelectorAll('[ant-onload]');\n        elementos.forEach((ele)=>{\n            this.element.parse(ele);\n        });\n    }\n\n    \n\n    \n}\n","import { Ant } from \"../ant\";\nimport { EventDispatcher, Handler } from \"./eventDispatcher\"\nexport class AntEvents {\n    ant: Ant;\n    constructor(ant: Ant) {\n        this.ant = ant;\n        this.initListenReadyDocument();\n    }\n    /**\n     * inicializar la function que escucha cuando el documento ya se inicializo\n     */\n    private initListenReadyDocument() {\n        let th1 = this;\n        document.addEventListener(\"DOMContentLoaded\", function () {\n            th1.readyDocumentDispatcher.fire({})\n        }, false);\n    }\n\n    /**dispatcher para el evento loadsuccess */\n    private readyDocumentDispatcher = new EventDispatcher<ReadyDocumentEvent>();\n    /** llamada del evento ReadyDocument */\n    public onLoadDocument(handler: Handler<ReadyDocumentEvent>) {\n        this.readyDocumentDispatcher.register(handler);\n    }\n}\n\n/**\n * Los eventos como interfaces\n */\ninterface ReadyDocumentEvent { }","export type Handler<E> = (event: E) => void;\n\nexport class EventDispatcher<E> { \n    private handlers: Handler<E>[] = [];\n    fire(event: E) { \n        for (let h of this.handlers)\n            h(event);\n    }\n    register(handler: Handler<E>) { \n        this.handlers.push(handler);\n    }\n}","import { Ant } from \"../ant\";\n\n/**\n * AntElement representa al obejeto que registra y llama a los hooks\n * registrados en esta libreria\n */\nexport class AntElement {\n    /**instancia del objeto principal ant */\n    ant:Ant;\n    /**objeto simple de javascript que almacena todos los hooks registrados en la librearia ant */\n    hooks:any;\n    /**\n     * Constructor de AntElement\n     * @param ant instancia del ant al que pertenecera este nuevo AntElement\n     */\n    constructor(ant:Ant) {\n        this.ant=ant;\n        this.hooks={};\n    }\n\n    public registerHook(hook:string,cb:Function){\n        if (!this.hooks[hook]){\n            this.hooks[hook] = [];\n        }\n\n        this.hooks[hook].push(cb);\n    }\n\n    public callHook(hook:string,element:Element){\n        if (this.hooks && Object.keys(this.hooks).indexOf(hook) !== -1) { \n            for (var ix in this.hooks[hook]) { \n                this.hooks[hook][ix](element,this.ant);\n            }\n        }\n    }\n\n    public parse(element:Element){\n        for (var x in element.attributes) {\n            if (element.attributes[x].name && element.attributes[x].name.indexOf(\"ant-\") === 0) {\n                this.callHook (element.attributes[x].name, element);\n            }\n        }\n    }\n}","import { DebugModule } from \"./debug/debugModule\";\nimport { DownloadModule } from \"./download/downloadModule\";\nimport { Ant } from \"../ant\";\n\nexport module ParsersModule{\n    /**\n     * inicializador de parsers\n     * @param ant \n     */\n    export function initParsers(ant:Ant){\n        ant.element.registerHook(DebugModule.nameHook,DebugModule.init,);\n        ant.element.registerHook(DownloadModule.nameHook,DownloadModule.init);\n    }\n}\n\n","import {DebugElement} from \"./debugClass\"\nimport { Ant } from \"../../ant\";\nexport module DebugModule{\n    export let nameHook=\"ant-debug\";\n    export function init(element:Element,ant:Ant){\n        let debug=new DebugElement(element,ant);\n    }\n    \n}","import { Parser } from \"../parserClass\";\nimport { Ant } from \"../../ant\";\n\nexport class DebugElement extends Parser {\n    message: any;\n    constructor(element:Element,ant:Ant) {\n        super(element,ant)\n        this.message=this.element.getAttribute('ant-debug');\n        console.log(\"ANT-DEBUG[\"+this.message+\"]\");\n    }\n}","import { DownloadElement } from \"./downloadClass\"\nimport { Ant } from \"../../ant\";\n\n/**\n * Modulo que contiene la inicializacion del parser Download\n */\nexport module DownloadModule {\n    \n    export let nameHook = \"ant-download\";\n    export function init(element: Element, ant: Ant) {\n        let debug = new DownloadElement(element, ant);\n    }\n\n}","import { Parser } from \"../parserClass\";\nimport { Ant } from \"../../ant\";\n\n/**\n * parser ant-download\n */\nexport class DownloadElement extends Parser{\n    public url:any;\n    public onSuccess:any;\n    public format:string=\"json\";\n    \n    constructor(element:Element,ant:Ant) {\n        super(element,ant,\"ant-download\");\n        this.url=this.element.getAttribute(this.nameHook);\n        this.format=(this.element.getAttribute(this.nameHook+\"_format\") == null )?\"json\":<string>(this.element.getAttribute(this.nameHook+\"_format\"));\n        this.onSuccess=this.element.getAttribute(this.nameHook+\"_onSuccess\");\n        this.cargarDatos();\n    }\n    private cargarDatos(){\n        let req=new XMLHttpRequest();\n        let th1=this;\n        req.open(\"GET\",this.url,true);\n        req.onreadystatechange=function(){\n            //cuando se carga completamente\n            if(req.readyState==4){\n                //cuando se trajo el contenido correctamente\n                if(req.status==200){\n                    //parsear los elementos que \n                    let elementos=document.querySelectorAll(th1.onSuccess);\n                    elementos.forEach((ele)=>{\n                        th1.ant.element.parse(ele);\n                    });\n                    console.log(req.responseText);\n                }else{\n                    console.warn(\"error al cargar la peticion\");\n                }\n            }\n        }\n        req.send(null);\n    }\n}"],"sourceRoot":""}